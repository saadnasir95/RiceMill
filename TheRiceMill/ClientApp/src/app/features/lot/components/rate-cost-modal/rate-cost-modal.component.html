<ng-template #header>
  <h2 mat-dialog-title class="d-inline" *ngIf="isNew">Add Rate Cost</h2>
  <h2 mat-dialog-title class="d-inline" *ngIf="!isNew">Edit Rate Cost</h2>
  <span class="float-right">
    <i class="fa fa-times show-cursor" style="cursor: pointer;" (click)="closeModal()">
    </i>
  </span>
  <div class="clearfix"></div>
</ng-template>

<ng-template #body>
  <form class="container" [formGroup]="rateCostForm" (ngSubmit)="submit()">
    <mat-dialog-content>
      <div class="row">
        <div class="col-md-4">
          <mat-form-field class="w-100">
            <input type="text" matInput placeholder="Enter Labour Unloading And Loading" formControlName="labourUnloadingAndLoading">
            <mat-error *ngIf="rateCostForm.get('labourUnloadingAndLoading').hasError('required')">
              LabourUnloadingAndLoading is required
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col-md-4">
          <mat-form-field class="w-100">
            <input type="text" matInput placeholder="Enter Freight" formControlName="freight">
            <mat-error *ngIf="rateCostForm.get('freight').hasError('required')">
              Freight is required
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col-md-4">
          <mat-form-field class="w-100">
            <input type="text" matInput placeholder="Enter Purchase Brokery" formControlName="purchaseBrokery">
            <mat-error *ngIf="rateCostForm.get('purchaseBrokery').hasError('required')">
              Purchase Brokery is required
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col-md-4">
          <mat-form-field class="w-100">
            <input type="text" matInput placeholder="Enter Total" formControlName="total">
            <mat-error *ngIf="rateCostForm.get('total').hasError('required')">
              Total is required
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col-md-4">
          <mat-form-field class="w-100">
            <input type="number" matInput placeholder="Enter Rate Per 40 Without Processing" formControlName="ratePer40WithoutProcessing">
            <mat-error *ngIf="rateCostForm.get('ratePer40WithoutProcessing').hasError('required')">
              RatePer40WithoutProcessing is required
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col-md-4">
          <mat-form-field class="w-100">
            <input type="number" matInput placeholder="Enter Processing Expense" formControlName="processingExpense">
            <mat-error *ngIf="rateCostForm.get('processingExpense').hasError('required')">
              Processing Expense is required
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col-md-4">
          <mat-form-field class="w-100">
            <input type="number" matInput placeholder="Enter Bardana/Misc." formControlName="bardanaAndMisc">
            <mat-error *ngIf="rateCostForm.get('bardanaAndMisc').hasError('required')">
              bardanaAndMisc is required
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col-md-4">
          <mat-form-field class="w-100">
            <input type="number" matInput placeholder="Enter Grand Total" formControlName="grandTotal">
            <mat-error *ngIf="rateCostForm.get('grandTotal').hasError('required')">
              Grand Total is required
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col-md-4">
          <mat-form-field class="w-100">
            <input type="number" matInput placeholder="Enter Rate Per 40 Less By Product" formControlName="ratePer40LessByProduct">
            <mat-error *ngIf="rateCostForm.get('ratePer40LessByProduct').hasError('required')">
              RatePer40LessByProduct is required
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col-md-4">
          <mat-form-field class="w-100">
            <input type="number" matInput placeholder="Enter Sale Brokery" formControlName="saleBrokery">
            <mat-error *ngIf="rateCostForm.get('saleBrokery').hasError('required')">
              Sale Brokery is required
            </mat-error>
          </mat-form-field>
        </div>
      </div>

    </mat-dialog-content>
    <mat-dialog-actions>
      <div class="row ml-1">
        <button mat-raised-button type="submit" class="btn btn-primary" *ngIf="isNew">
          <span *ngIf="spinner.isLoading">
            <i class="fas fa-spinner fa-spin"></i>&nbsp;
          </span>Save</button>
        <button mat-raised-button type="submit" class="btn btn-primary" *ngIf="!isNew">
          <span *ngIf="spinner.isLoading">
            <i class="fas fa-spinner fa-spin"></i>&nbsp;
          </span>Update</button>
        <button mat-raised-button type="button" (click)="closeModal()" class="btn btn-danger">Cancel</button>
      </div>
    </mat-dialog-actions>
  </form>
</ng-template>

<ng-template #deleteHeader>
  <h2 mat-dialog-title class="d-inline" *ngIf="isNew">Delete Purchase</h2>
  <span class="float-right">
    <i class="fa fa-times show-cursor" style="cursor: pointer;" (click)="closeModal()">
    </i>
  </span>
  <div class="clearfix"></div>
</ng-template>

<ng-template #deleteBody>
  <mat-dialog-content>
    Are you sure you want to delete this purchase?
  </mat-dialog-content>
  <mat-dialog-actions>
    <div class="row mt-3 ml-1">
      <button mat-raised-button (click)="delete()" type="button" class="btn btn-primary">
        <span *ngIf="spinner.isLoading">
          <i class="fas fa-spinner fa-spin"></i>&nbsp;
        </span>Yes</button>
      <button mat-raised-button (click)="closeModal()" class="btn btn-danger">Cancel</button>
    </div>
  </mat-dialog-actions>
</ng-template>

<app-modal [Header]="header" [Body]="body" *ngIf="!isDelete"></app-modal>
<app-modal [Body]="deleteBody" *ngIf="isDelete"></app-modal>
